<div class="relative flex flex-col min-w-0 break-words w-full mb-6 shadow-xl rounded-lg border-0">
  <div class="rounded-t mb-0 px-6 pt-3 pb-2 bg-gray-200">
    <div class="text-center flex justify-between">
      <span class="text-gray-700 text-2xl font-bold pt">Filtros</span>
      <button
        class="bg-red-600 text-white active:bg-red-700 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150"
        type="button"
        (click)="handleSearchClick()"
      >
        Buscar
      </button>
      <button
        class="bg-blue-500 text-white active:bg-blue-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150"
        type="button"
        (click)="addFilter()"
      >
        Adicionar Filtro
      </button>
      <button
        class="bg-gray-400 text-white active:bg-gray-500 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150"
        type="button"
        (click)="resetFilters()"
      >
        Limpiar Filtros
      </button>
    </div>
  </div>
  <div class="flex-auto px-4 lg:px-10 bg-white">
    <form [formGroup]="filterForm">
      <hr class="mt-3 border-b-1 border-gray-300" />

      <h6 class="text-gray-400 text-sm mt-3 mb-6 font-bold uppercase">
        Criterio de búsqueda
      </h6>

      <div formArrayName="filters" *ngFor="let filterGroup of filterControls; let i = index" class="flex flex-wrap">
        <div [formGroupName]="i" class="w-full lg:w-4/12 px-4">
          <div class="relative w-full">
            <label
              class="block uppercase text-gray-600 text-xs font-bold mb-2"
              htmlFor="grid-password"
            >
              Parámetro
            </label>
            <mat-form-field class="w-full" appearance="fill">
              <mat-select formControlName="selectedValue" (selectionChange)="handleParameterChange(i)">
                <mat-option *ngFor="let parameter of parameters" [value]="parameter.value">
                  {{parameter.viewValue}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
        <div [formGroupName]="i" class="w-full lg:w-4/12 px-4">
          <div class="relative w-full mb-3">
            <label
              class="block uppercase text-gray-600 text-xs font-bold mb-2"
              htmlFor="grid-password"
            >
              Valor
            </label>
            <mat-form-field appearance="fill">
              <mat-label>{{ filterGroup?.get('selectedValue')?.value | titlecase }}</mat-label>
              <input matInput placeholder="Ingrese el valor" formControlName="inputValue">
            </mat-form-field>
          </div>
        </div>
<!--        <div class="w-full lg:w-4/12 px-4" *ngIf="i > 0">-->
<!--          <div class="relative w-full mb-3">-->
<!--            <label-->
<!--              class="block uppercase text-gray-600 text-xs font-bold mb-2"-->
<!--              htmlFor="grid-password"-->
<!--            >-->
<!--              Postal Code-->
<!--            </label>-->
<!--            <input-->
<!--              type="text"-->
<!--              class="border-0 px-3 py-3 placeholder-gray-300 text-gray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"-->
<!--              value="Postal Code"-->
<!--              disabled-->
<!--            />-->
<!--          </div>-->
<!--        </div>-->
      </div>

    </form>
  </div>
</div>
